# CU-007 – Ejecutar Cierre Mensual

## Información General
- **ID:** CU-007
- **Nombre:** Ejecutar Cierre Mensual
- **Descripción breve:** Permite ejecutar el proceso de cierre mensual que consolida información operativa, genera reportes automáticos y bloquea modificaciones posteriores al periodo.
- **Módulo:** Administración / Contabilidad Operativa
- **Prioridad:** MUST
- **Complejidad:** Alta
- **Estado:** En Revisión
## Actores
- **Actor Principal:** Administrador del Sistema
- **Actores Secundarios:** Sistema (procesos automáticos), Módulo de Reportes
## Precondiciones
- El usuario debe tener permisos de administrador. 
- Toda la información del mes debe estar registrada y validada. 
- El sistema debe estar en modo operativo normal . 
## Postcondiciones
- El mes queda cerrado y bloqueado para modificaciones. 
- Se generan los reportes automáticos programados. 
- Se registra la acción en la auditoría del sistema. 
## Flujo Principal (Camino Feliz)
1. El actor accede a la opción “Ejecutar Cierre Mensual”.
2. El sistema muestra el estado del mes actual y advierte que el proceso es irreversible. 
3. El actor confirma que desea ejecutar el cierre. 
4. El sistema valida que no existan procesos pendientes ni datos incompletos. 
5. El sistema bloquea el periodo para evitar nuevos cambios. 
6. El sistema ejecuta los procesos automáticos de consolidación.
7. El sistema genera automáticamente los reportes del cierre mensual.
8. El sistema registra el evento de cierre en auditoría.
9. El sistema notifica el cierre exitoso al actor.
## Flujos Alternativos
### A1 – Cierre programado
- El actor selecciona la opción “Programar cierre automático”.
- El sistema solicita fecha y hora.
- El actor confirma.
- El sistema agenda el proceso.
## Flujos de Excepción
### E1 – Datos incompletos
- El sistema detecta información faltante (clases sin cerrar, reportes pendientes, registros vacíos).
- Presenta una lista de pendientes.
- El actor debe corregir antes de continuar.
### E2 – Error durante la consolidación
- El sistema encuentra un error técnico en el procesamiento.
- Detiene el proceso y revierte los cambios.
- Notifica al actor y registra el error en auditoría.
### E3 – Falla en la generación de reportes
- El sistema no puede generar uno o más reportes automáticos.
- Continúa con el cierre pero marca los reportes fallidos para revisión manual.
## Reglas de Negocio
- RN-11: El cierre mensual es irreversible para evitar inconsistencias. 
- RN-12: Solo perfiles administrativos pueden ejecutar cierres contables u operativos.
- RN-13: Todas las acciones críticas deben quedar en auditoría.
## Requisitos No Funcionales
- RNF-001.1: Interfaz clara y con alertas de riesgos en acciones críticas.
- RNF-002.1: Manejo eficiente de procesos pesados (consolidación).
- RNF-003.3: Protección de datos sensibles del periodo.
- RNF-003.4: Registro obligatorio en auditoría.
## Interfaces de Usuario
- **Pantalla:** “Ejecutar Cierre Mensual”.
- Diálogo de confirmación de cierre irreversible.
- Pantalla de progreso del proceso.
- Resumen final del cierre.
## Referencias
- RF-002.1: Automatiza cierre de mes y generación de certificados.
- HU-005: Cierre mensual y generación de certificados.
- RNF-002.2, RNF-002.4: Rendimiento: tiempos de respuesta y eficiencia.
- RNF-005.1: Aplicación web.

# CU-014 – Auditoría de Acciones del Usuario

## Información General
- **ID:** CU-014
- **Nombre:** Auditoría de Acciones del Usuario
- **Descripción breve:** Registra todas las acciones realizadas por los usuarios en el sistema para fines de control y seguimiento.
- **Módulo:** Gestión de Usuarios y Roles
- **Prioridad:** MUST
- **Complejidad:** Media
- **Estado:** En Revisión
## Actores
- **Actor Principal:** Sistema
- **Actores Secundarios:** Administrador del sistema / Auditor
## Precondiciones
- El sistema debe estar operativo.
- Los usuarios deben estar autenticados en el sistema.
## Postcondiciones
- Todas las acciones de los usuarios quedan registradas con fecha, hora y tipo de acción.
- Los registros quedan disponibles para generar informes de auditoría.
## Flujo Principal (Camino Feliz)
1. El usuario realiza cualquier acción dentro del sistema 
2. El sistema captura la acción automáticamente.
3. El sistema registra información relevante: usuario, fecha, hora, módulo y tipo de acción.
4. El sistema almacena el registro en el repositorio de auditoría.
5. Los registros quedan disponibles para consultas o generación de informes.
## Flujos Alternativos
### A1 – Generación de informe de auditoría:
- El administrador o auditor solicita un informe filtrado por fechas, módulos o usuarios.
- El sistema compila y presenta el informe.
## Flujos de Excepción
### E1 – Fallo en el registro de auditoría:
- El sistema notifica error y reintenta guardar la acción.
- Si persiste, genera alerta al administrador.
## Reglas de Negocio
- RN-27: Todas las acciones de usuarios deben registrarse sin posibilidad de omisión.
- RN-28: Los registros de auditoría deben ser inalterables y verificables. 
## Requisitos No Funcionales
- RNF-003.4: Registro seguro y auditable de todas las acciones de los usuarios.
- RNF-002.2: La operación de registro no debe afectar el tiempo de respuesta del sistema.
## Interfaces de Usuario
- **Pantalla:** de consulta de auditoría.
- Reportes exportables en PDF o Excel.
- Alertas de error en caso de fallo en el registro.
## Referencias
- RNF-003.4: Registrar “quién hizo qué y cuándo” para comprobar acciones.
